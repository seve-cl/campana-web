/* Estilo claro + azul moderno, responsive y accesible */
:root{
  --bg:#ffffff; --text:#0b1220; --muted:#677087; --border:#e7eaf0;
  --brand:#0a7bff; --brand-2:#46b6ff; --brand-ink:#0453b3; --ok:#10b981;
  --max:1200px; --radius:16px; --shadow:0 8px 26px rgba(2,6,23,.06);
}
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{margin:0;font:16px/1.6 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu; color:var(--text); background:var(--bg)}
img{max-width:100%; height:auto; display:block}
.visually-hidden{position:absolute!important;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden;white-space:nowrap}

/* Layout utilitario */
.container{max-width:var(--max); margin-inline:auto; padding-inline:20px}
.section{padding:56px 0}
.section-head{display:flex; align-items:end; justify-content:space-between; gap:16px; margin-bottom:20px}
.narrow{max-width:860px; margin-inline:auto}
.grid{display:grid; gap:20px}
.aspect-16x9{aspect-ratio:16/9}
.aspect-1x1{aspect-ratio:1/1}
.media{background:#f5f7fb; border:1px solid var(--border); border-radius:14px; overflow:hidden}

/* Header fijo */
.site-header{position:sticky; top:0; z-index:50; background:#fff; border-bottom:1px solid var(--border)}
.header-inner{display:flex; align-items:center; justify-content:space-between; gap:16px; height:64px}
.brand{display:flex; align-items:center; gap:10px; text-decoration:none}
.brand-logo{border-radius:10px}
.brand-name{font-weight:800; color:var(--text)}
.nav-toggle{display:none; border:1px solid var(--border); background:#fff; padding:.55rem .8rem; border-radius:10px}
.site-nav{display:flex; gap:18px}
.site-nav a{color:var(--muted); text-decoration:none; padding:.6rem .7rem; border-radius:10px}
.site-nav a:hover{color:var(--brand-ink); background:#f3f7ff}

/* Hero / banner */
.hero{position:relative}
.hero-media img{width:100%; height:clamp(220px, 40vw, 420px); object-fit:cover}
.hero-content{position:relative; margin-top:-48px; background:#fff; border:1px solid var(--border); box-shadow:var(--shadow); border-radius:18px; padding:22px}
.lead{color:var(--muted)}

/* Botones */
.btn{display:inline-flex; align-items:center; gap:.5rem; padding:.7rem 1rem; border-radius:999px; text-decoration:none; font-weight:700; border:1px solid transparent}
.btn.primary{background:linear-gradient(90deg,var(--brand),var(--brand-2)); color:#fff}
.btn.primary:hover{filter:brightness(.98)}
.btn.link{background:transparent; color:var(--brand-ink)}

/* ===== Presentación / Video (sección antes de Progreso) ===== */
.section-video .video-card{
  background:#fff;
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:var(--shadow);
  padding:14px;
}
.video-embed{ border-radius:14px; overflow:hidden }
/* Usa tu utilitario .aspect-16x9 para alto automático con ratio */
.video-embed iframe{
  width:100%; height:100%; border:0; display:block;
  background:#000; /* evita parpadeos al cargar */
}

/* ===== Calendario (compacto, blanco, alineado) ===== */
:root{
  /* Alto fijo de cada fila de días (ajústalo si quieres) */
  --cal-day-h: 112px;
}

.calendar.card{
  background:#fff;
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:var(--shadow);
  padding:12px;
  max-width:min(1200px, 100%);
  margin-inline:auto;
}

/* Encabezado: mes centrado + controles a la derecha (opción B) */
.calendar.card .cal-header{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  gap:12px;
  padding:6px 0 10px;
}
.calendar.card .cal-month{
  grid-column:2;             
  text-align:center;
  margin:0;
  font-weight:800;
  letter-spacing:.3px;
  color:var(--text);
  font-size:1.1rem;
}
.calendar.card .cal-nav{
  grid-column:3;             
  justify-self:end;
}

.cal-nav{
  display:inline-flex; gap:6px; background:#fbfcfe; border:1px solid var(--border);
  border-radius:999px; padding:4px; box-shadow:var(--shadow);
}
.cal-nav button{
  border:0; background:transparent; color:var(--brand-ink);
  font-weight:700; padding:.45rem .7rem; border-radius:999px; cursor:pointer;
}
.cal-nav button:hover{ background:#f3f7ff; }
.cal-nav [data-cal-today]{ background:linear-gradient(90deg,var(--brand),var(--brand-2)); color:#fff; }
.cal-nav [data-cal-today]:hover{ filter:brightness(.98); }

/* Cabeceras de semana (Lun–Dom) */
.cal-grid{ display:grid; gap:8px; }
.cal-weekdays{
  display:grid; grid-template-columns:repeat(7,1fr); gap:8px;
  color:var(--muted); font-weight:700; font-size:.85rem;
}
.cal-wd{ text-align:center; padding:6px 0; }

/* Grilla de días: columnas y filas fijas */
.cal-days{
  display:grid; grid-template-columns:repeat(7,1fr); gap:8px;
  grid-auto-rows: var(--cal-day-h);
}

/* Tarjeta del día */
.cal-day{
  height:100%; min-height:0; overflow:hidden;
  background:#fff; border:1px solid var(--border); border-radius:14px;
  padding:8px; display:flex; flex-direction:column; gap:6px; position:relative;
}
.cal-day:hover{ border-color:#dfe6f2; box-shadow:var(--shadow); }
.cal-day--muted{ opacity:.55; } /* (no se usa en 4 semanas, se deja por si vuelves a mensual) */
.cal-day--today{ outline:2px solid var(--brand-2); outline-offset:2px; }

/* Encabezado del día */
.cal-day__head{
  display:flex; align-items:center; justify-content:space-between;
  font-weight:700; font-size:.9rem; flex:0 0 auto;
}

/* Badges de eventos (truncables, pegados abajo) */
.cal-badges{
  margin-top:auto; display:flex; flex-wrap:wrap; gap:6px;
  max-height: calc(var(--cal-day-h) - 40px); overflow:hidden;
}
.cal-badge{
  display:inline-flex; align-items:center; gap:6px;
  font-size:.75rem; font-weight:700; padding:3px 8px; border-radius:999px;
  background:linear-gradient(90deg,var(--brand),var(--brand-2)); color:#fff;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%;
}
.cal-badge--more{
  background:#eef3ff; color:var(--brand-ink); border:1px solid var(--border);
}

/* Modal */
.cal-modal{
  position:fixed; inset:0; background:rgba(2,6,23,.35);
  display:none; align-items:center; justify-content:center; padding:20px;
}
.cal-modal[aria-hidden="false"]{ display:flex; }
.cal-modal__dialog{
  width:min(700px, 100%); background:#fff; border:1px solid var(--border);
  border-radius:18px; box-shadow:var(--shadow); padding:16px; position:relative;
}
.cal-modal__close{
  position:absolute; top:10px; right:10px;
  border:1px solid var(--border); background:#fff; border-radius:10px;
  padding:.35rem .55rem; cursor:pointer;
}
.cal-modal__title{ margin:0 0 10px 0; }
.cal-modal__list{ list-style:none; margin:0; padding:0; display:grid; gap:10px; }
.cal-event{
  border:1px solid var(--border); border-radius:12px; padding:10px;
  display:grid; gap:4px; background:#fbfcfe;
}
.cal-event__title{ font-weight:800; }
.cal-event__meta{ color:var(--muted); font-size:.9rem; display:flex; gap:10px; flex-wrap:wrap; }

/* Responsive (más compacto) */
@media (max-width: 900px){
  :root{ --cal-day-h: 104px; }
  .calendar.card .cal-month{ font-size:1rem; }
}
@media (max-width: 720px){
  :root{ --cal-day-h: 96px; }
  .cal-day{ padding:6px; }
  .cal-badge{ font-size:.72rem; padding:3px 7px; }
}


/* Progreso */
.progress-wrap{display:grid; place-items:center; gap:10px; padding:20px; border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow)}
progress{width:min(760px,100%); height:22px; appearance:none; -webkit-appearance:none; border:none}
progress::-webkit-progress-bar{background:#eef2f7; border-radius:999px}
progress::-webkit-progress-value{background:linear-gradient(90deg,var(--brand),var(--brand-2)); border-radius:999px}
progress::-moz-progress-bar{background:linear-gradient(90deg,var(--brand),var(--brand-2)); border-radius:999px}
.progress-label{font-weight:800; letter-spacing:.3px}

/* Cards de proyectos */
.projects{grid-template-columns:repeat(12,1fr)}
.project{grid-column:span 6; background:#fff; border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow); overflow:hidden}
.card-body{padding:14px 16px}
.checkline{display:flex; align-items:center; gap:10px}
.checkline input{width:20px; height:20px; accent-color:var(--ok)}
.title{font-weight:700}

/* Etiquetas de ejes */
.axis-tag {
  display: inline-block;
  margin-bottom: 6px;
  padding: 2px 10px;
  font-size: 0.8rem;
  font-weight: 700;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  color: #fff;
  letter-spacing: 0.3px;
}

/* Galería */
.gallery{grid-template-columns:repeat(12,1fr)}
.gallery > .media{grid-column:span 3}

/* ===== Redes sociales / Contacto (Instagram clickeable) ===== */
/* ===== IG Card (box moderno) ===== */
.ig-card{
  background:#fff;
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
  display:grid; gap:14px;
}

.ig-card__head{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  border-bottom:1px solid var(--border);
  padding-bottom:12px;
}
.ig-card__brand{ display:flex; align-items:center; gap:10px; }
.ig-card__icon{ width:28px; height:28px; object-fit:contain; }
.ig-card__text{ display:flex; flex-direction:column; line-height:1.2; }
.ig-card__handle{
  font-weight:800; color:var(--text); text-decoration:none;
}
.ig-card__handle:hover{ color:var(--brand-ink); text-decoration:underline; }
.ig-card__sub{ color:var(--muted); font-size:.9rem; }
.ig-card__cta{ white-space:nowrap; }

/* ===== IG: grid fluido y tarjetas más grandes ===== */
.ig-card__grid{
  display:grid;
  gap:12px;
  /* De 2 a 4 columnas según espacio; evita miniaturas */
  grid-template-columns:repeat(3, 1fr); /* siempre 3 columnas */
  justify-content:center; /* centra cuando quepan menos columnas */
}

/* Tamaño y proporción de cada embed */
.ig-embed{
  position:relative;
  border:1px solid var(--border);
  border-radius:12px;
  overflow:hidden;
  background:#f5f7fb;
  /* Más alto, estilo post IG (4:5). Si prefieres cuadrado, usa 1/1 */
  aspect-ratio:4/5;
}

/* Forzar que el contenido embebido ocupe todo el contenedor */
.ig-embed > .instagram-media,
.ig-embed iframe{
  position:absolute;
  inset:0;
  width:100% !important;
  height:100% !important;
  min-width:0 !important;
  min-height:0 !important;
  margin:0 !important;
  border:0 !important;
  background:#f5f7fb;
}

/* Hover sutil */
.ig-embed:hover iframe{
  transform:scale(1.02);
  transition:transform .25s ease;
  transform-origin:center;
}
.ig-card__foot{
  border-top:1px solid var(--border);
  padding-top:14px;
  margin-top:10px;
  display:flex;
  align-items:center;
  justify-content:flex-end;
}

.ig-card__mail{
  display:inline-flex;
  align-items:center;
  gap:8px;
  color:var(--brand-ink);
  text-decoration:none;
  font-weight:600;
  font-size:0.95rem;
  padding:.55rem 1rem;
  border:1px solid var(--border);
  border-radius:999px;
  background:#fbfcfe;
  box-shadow:0 2px 4px rgba(0,0,0,0.04);
  transition:all .2s ease;
}

.ig-card__mail:hover{
  background:#f3f7ff;
  border-color:#dfe6f2;
  color:var(--brand);
  transform:translateY(-2px);
  box-shadow:0 4px 8px rgba(0,0,0,0.08);
}
/* Footer */
.site-footer{border-top:1px solid var(--border); background:#fbfcfe}
.footer-inner{display:flex; justify-content:space-between; align-items:center; gap:12px; min-height:64px}

/* Responsivo */
@media (max-width: 1024px){
  .projects .project{grid-column:span 6}
  .gallery > .media{grid-column:span 4}
  .ig-card__grid{ grid-template-columns:repeat(4, minmax(0,1fr)); }
}
@media (max-width: 720px){
  .nav-toggle{display:inline-block}
  .site-nav{position:fixed; inset:64px 0 auto 0; background:#fff; border-bottom:1px solid var(--border); padding:12px 20px; display:grid; gap:6px; transform:translateY(-120%); transition:transform .2s ease}
  .site-nav.open{transform:none}
  .projects .project{grid-column:span 12}
  .gallery > .media{grid-column:span 6}
  .form-grid{grid-template-columns:1fr}
  .hero-content{margin-top:-24px}
  .section-video .video-card{ padding:10px }
  .ig-card{ padding:12px; gap:12px; }
  .ig-card__head{ flex-direction:column; align-items:flex-start; gap:10px; }
  .ig-card__grid{ grid-template-columns:repeat(2, minmax(0,1fr)); }
}
